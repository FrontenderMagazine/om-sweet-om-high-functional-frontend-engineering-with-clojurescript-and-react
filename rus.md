В Prismatic мы твердо верим что лучшие продукты получаются в результате союза продуманного дизайна и тщательного проектирования. Эффективный дизайн требует создания предположений о том что работает, создавая решения для быстрого тестирования гипотез и итераций, нацеленных на результат. Например если вы читали о нашем недавнем ре-дизайне ленты, значит вам известно о том, что мы тестировали три очень разных макета ленты в прошлом году, перед тем как вставить в дизайн, которым мы и большинство наших пользователей были довольны.

Постоянные эксперименты и итерации представляют для нас интересный технологичный вызов: создание frontend архитектуры, позволяющей быстро создавать и тестировать дизайн при сохранении приемлемой производительности для наших пользователей.

В частности, (как и для большинства команд создающих программное обеспечение) нашей основной целью, стало увеличение производительности и вовлечение команды в написание кода, который:

* модульный, с минимальной связанностью компонентов
* простой и читабельный
* имеет минимум ошибок, насколько это возможно

По нашему опыту построения web, iOS и backend приложений мы обнаружили что много(если не большинство) связанности и багов напрямую зависит от управления изменениями состояния приложения. С ClojureScript и Om мы наконец то нашли архитектуру, которая решит большую часть этого бремени для нас в вебе. Два месяца назад мы полностью переписали наше веб-приложение на эту архитектуру и это дало огромный прирост нашей продуктивности при сохранении быстрой производительности.

Новая кодовая база занимает чуть меньше 5 тысяч строк ClojureScript(не включая библиотеки), что в пять раз меньше чем было в нашей предыдущей кодовой базе. Конечно, размер это не главное. Каждый наш backend - разработчик внес значительный вклад в новую кодовую базу, что говорит о высокой читабельности и понятности.

Читая дальше вы узнаете о том как мы ускорили наши итерации с Om, ClojureScript и React.

### ClojureScript

Серверная часть Prismatic построена на Clojure, красиво сконструированный, современный диалект Lisp, работающий на JVM, идеально подходящий под проектирование программ в реальном мире. Clojure имеет превосходную поддержку функционального, дата-ориентированного программирования с эффективными иммутабельными структурами данных. Так же он обладает очень выразительной поддержкой атомарных, композируемых абстракций, и почти бесконечную расширяемость при помощи макросов.

Учитывая нашу любовь к Clojure, мы были в восторге от введения ClojureScript, диалекта Clojure компилирующегося в Javascript и дающее вебу все преимущества Clojure. ClojureScript так же сохраняет высокую производительность что и Clojure, опираясь на современные движки Javascript в сочетании с превосходной библиотекой GoogleClosure.

#### Функциональное программирование

Фнукциональное программирование призывает писать чистые функции независимы от побочных эффектов и всегда возвращают тот же результат при одинаковом наборе входных данных. Зная что функция не имеет побочных эффектов и глобальных ссылок дает программисту уверенность в том, что вызывая функцию она получит только вычисляет результат, ничего больше не делая. Чистые функции модульны по определению, что позволяет проще рассуждать о тестировании и составлении комплексных функций.

В ClojureScript все значения иммутабельны по умолчанию. Более того ClojureScript обладает эффективной реализацией ***персистентных*** иммутабельных хешей, векторов и списков. Вы не можете изменить эти структуры данных; вместо "модификаций" возвращается новая, обновленная структура данных, сохраняя разумную производительность, путем структурного разделения. Эти архитектурные решения делают написание чистых функций быстрым, гарантируя что вам можно не беспокоиться о том что клиенты изменят ваши драгоценные данные без вашего ведома, оставляя возможность создания явных изменяемых ссылок, когда это практично.

